@base_url = http://localhost:8081
@accept = application/json

############################
# üîê AUTENTICACI√ìN USUARIO
############################

### üÜï REGISTRO DE USUARIO
POST {{base_url}}/auth/signup
Content-Type: application/json
Accept: {{accept}}

{
  "nombre": "Usuario Normal Prueba",
  "correo": "userxd@owl.com",
  "contrasenia": "123456",
  "is_admin": false
}

### üîë LOGIN DE USUARIO
# @name loginUser
POST {{base_url}}/auth/login
Content-Type: application/json
Accept: {{accept}}

{
  "correo": "userxd@owl.com",
  "contrasenia": "123456"
}

@token = {{loginUser.response.body.$.token}}

### üë§ VER DATOS DE USUARIO Y ROLES
GET {{base_url}}/auth/me
Authorization: Bearer {{token}}
Accept: {{accept}}

############################
# üë• ENDPOINTS DE USUARIO
############################

### ‚úÖ Obtener un usuario por id (requiere login)
GET {{base_url}}/usuario/5
Authorization: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJ1c2VyeGRAb3dsLmNvbSIsImlhdCI6MTc2MDgwMjcxMCwiZXhwIjoxNzYwODM4NzEwfQ.n4lNpBmQEhA54XhgePVH3gHb4tSZopQHPMNW2-PuvanEXxmUgVc_dYgv72spm0Es
Accept: {{accept}}

### ‚úÖ Actualizar un usuario (permite autenticado)
PUT {{base_url}}/usuario/update
Authorization: Bearer {{token}}
Content-Type: application/json
Accept: {{accept}}

{
  "id": 1,
  "nombre": "Usuario OWL Actualizado",
  "correo": "user@owl.com",
  "contrasenia": "123456",
  "is_admin": false,
  "nivel_riesgo": "Bajo"
}

############################
# üìä ENDPOINTS DE FIC
############################

### ‚úÖ Obtener todos los FIC (requiere login)
GET {{base_url}}/fic/list
Authorization: Bearer {{token}}
Accept: {{accept}}

### ‚úÖ Obtener FIC por ID (requiere login)
GET {{base_url}}/fic/1
Authorization: Bearer {{token}}
Accept: {{accept}}

############################
# üö´ PRUEBAS DE ERRORES
############################

### 401 ‚Äî Sin token
GET {{base_url}}/fic/list
Accept: {{accept}}

### 403 ‚Äî Token v√°lido pero endpoint restringido (si intentas admin)
DELETE {{base_url}}/usuario/2
Authorization: Bearer {{token}}
Accept: {{accept}}
